<?xml version="1.0"?>
<odoo>
<record id="view_exam_result_migration_form" model="ir.ui.view">
    <field name="name">exam.result.migration.form</field>
    <field name="model">exam.result.migration</field>
    <field name="arch" type="xml">
        <form string="Migration des Résultats d'Examen">
            <sheet>
                <group string="Configuration Source Odoo">
                    <group>
                        <field name="source_url"/>
                        <field name="source_db"/>
                    </group>
                    <group>
                        <field name="source_username"/>
                        <field name="source_password" password="True"/>
                    </group>
                </group>
                
                <group string="Filtres de Migration">
                    <field name="academic_year_id"/>
                    <field name="session"/>
                    <field name="standard_id"/>
                </group>
                
                <group string="Statistiques" attrs="{'invisible': [('migrated_count', '=', 0)]}">
               
                    <div>
                        <field name="migrated_count" readonly="1"/>
                        <field name="error_count" readonly="1"/>
                    </div>
                </group>
            </sheet>
            
            <footer>
                <button name="action_test_connection" type="object" string="Tester la Connexion" class="btn-secondary"/>
                <button name="action_migrate_results" type="object" string="Lancer la Migration" class="btn-primary"/>
                <button string="Fermer" special="cancel" class="btn-secondary"/>
            </footer>
        </form>
    </field>
</record>

<record id="action_exam_result_migration" model="ir.actions.act_window">
    <field name="name">Migration des Résultats d'Examen</field>
    <field name="res_model">exam.result.migration</field>
    <field name="view_mode">form</field>
    <field name="target">new</field>
</record>


 <!--<menuitem id="migration_result" name="Exam migration" parent="menu_exam" action="action_exam_result_migration" sequence="105"/>
-->

</odoo>